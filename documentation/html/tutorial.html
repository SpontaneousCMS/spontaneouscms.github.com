<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Spontaneous CMS Tutorial Part 1 – Creating a Basic Site &mdash; Spontaneous CMS 0.2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Spontaneous CMS 0.2.0 documentation" href="index.html" />
    <link rel="next" title="Getting Started" href="getting-started.html" />
    <link rel="prev" title="Installation Guide" href="installation.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="getting-started.html" title="Getting Started"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation Guide"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Spontaneous CMS 0.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="spontaneous-cms-tutorial-part-1-creating-a-basic-site">
<span id="tutorial"></span><h1>Spontaneous CMS Tutorial Part 1 &#8211; Creating a Basic Site<a class="headerlink" href="#spontaneous-cms-tutorial-part-1-creating-a-basic-site" title="Permalink to this headline">¶</a></h1>
<p>This will walk you through creating your first Spontaneous project. In this
tutorial we&#8217;re going to look at the creation of a simple site that will let you
publish your favorite recipies.</p>
<p>Before you start you should have worked through the <a class="reference internal" href="installation.html#installation"><em>Installation Guide</em></a>.</p>
<p>To make sure that Spontaneous is installed and works try running the
included <tt class="docutils literal"><span class="pre">spot</span></tt> program:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>spot version
</pre></div>
</div>
<p>If this doesn&#8217;t work then you don&#8217;t have Spontaneous installed or something is
stopping it from working. In that case please go have a look at the
<a class="reference internal" href="installation.html#installation-troubleshooting"><em>Troubleshooting</em></a> section.</p>
<div class="section" id="generate-a-website-skeleton">
<h2>Generate a Website Skeleton<a class="headerlink" href="#generate-a-website-skeleton" title="Permalink to this headline">¶</a></h2>
<p>Use the <tt class="docutils literal"><span class="pre">spot</span></tt> executable to generate a new site, in this case <tt class="docutils literal"><span class="pre">example.com</span></tt>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>spot generate example.com
</pre></div>
</div>
<p>Change into our newly generated Spontaneous site directory:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>example_com
</pre></div>
</div>
<p>Use <a class="reference external" href="http://gembundler.com/">bundler</a> to install the dependencies (this make
take a minute or so):</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>bundle install
</pre></div>
</div>
<p>Now use the <tt class="docutils literal"><span class="pre">spot</span></tt> command to initalize the site. This will create the
necessary databases and database tables:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>spot init
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p><strong>Postgres users</strong> my have to set up their access permissions first. If you
are logged in as the user &#8216;fred&#8217; then Spontaneous&#8217;s generator will have
created a default <tt class="docutils literal"><span class="pre">config/database.yml</span></tt> set to access the database
with the same username as your login account. Before running <tt class="docutils literal"><span class="pre">spot</span> <span class="pre">init</span></tt>
try connecting to the database as yourself:</p>
<div class="code highlight-bash"><div class="highlight"><pre><span class="o">[</span>fred ~<span class="o">]</span><span class="nv">$ </span>psql postgres
</pre></div>
</div>
<p>If this doesn&#8217;t work then you&#8217;ll need to do a couple of extra steps.
As root:</p>
<div class="code highlight-bash"><div class="highlight"><pre><span class="o">[</span>root ~<span class="o">]</span><span class="nv">$ </span>su - postgres
<span class="o">[</span>postgres ~<span class="o">]</span><span class="nv">$ </span>createuser --createdb --no-password fred
<span class="o">[</span>postgres ~<span class="o">]</span><span class="nv">$ </span><span class="nb">exit</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">--no-password</span></tt> is optional but if you give the user a password
be sure to update your <tt class="docutils literal"><span class="pre">config/database.yml</span></tt> to match.</p>
<p>Now you should be able to connect as yourself:</p>
<div class="code highlight-bash"><div class="highlight"><pre><span class="o">[</span>fred ~<span class="o">]</span><span class="nv">$ </span>psql postgres
</pre></div>
</div>
<p class="last">and <tt class="docutils literal"><span class="pre">spot</span> <span class="pre">init</span></tt> should run.</p>
</div>
<p>As part of the initialization you will be asked for some details in order to
create a root-level user for the site. If possible details will be taken
from your git config (name &amp; email address).</p>
<p>Spontaneous has a useful &#8220;auto login&#8221; feature in development mode which will be
configured to use this root account.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This requires administrator access to your database in order to do its work.
It should hopefully work out of the box but you may need to pass in extra
authenticaion parameters in order to correctly access the database.</p>
</div>
</div>
<div class="section" id="create-your-schema">
<h2>Create Your Schema<a class="headerlink" href="#create-your-schema" title="Permalink to this headline">¶</a></h2>
<p>Spontaneous uses basic Ruby code to define its content models. You don&#8217;t need
very much knowledge of Ruby in order to define the schema for a website, but
a basic familiarity with the language will make things much easier.</p>
<p>Let&#8217;s first think about what we&#8217;re trying to achieve: a homepage that shows a
list of recipes and a set of recipe pages that have:</p>
<ul class="simple">
<li>A recipe title</li>
<li>A short description of the recipe</li>
<li>A photo of the finished dish and</li>
<li>A list of ingredients,</li>
<li>A set of instructions (each instruction with an optional photo)</li>
</ul>
<p>Our first step will be to set up our homepage.</p>
<div class="section" id="add-a-site-homepage">
<h3>Add a Site Homepage<a class="headerlink" href="#add-a-site-homepage" title="Permalink to this headline">¶</a></h3>
<p>Each page in the site has an associated &#8216;type&#8217;. This type corresponds to a Ruby
class that inherits from the <tt class="docutils literal"><span class="pre">Content</span></tt> base class defined in <tt class="docutils literal"><span class="pre">lib/content.rb</span></tt>.</p>
<p>Content types are defined in the <tt class="docutils literal"><span class="pre">schema</span></tt> directory by default. There will
already be some files in there <tt class="docutils literal"><span class="pre">page.rb</span></tt>, <tt class="docutils literal"><span class="pre">piece.rb</span></tt> and <tt class="docutils literal"><span class="pre">box.rb</span></tt>. These
define some top-level convenience classes that you should use as the basis for
your site&#8217;s schema.</p>
<p>Now onto creating our site&#8217;s schema.</p>
<p>Create the file <tt class="docutils literal"><span class="pre">schema/homepage.rb</span></tt> and paste the following code into
it:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="c1"># schema/homepage.rb</span>

<span class="k">class</span> <span class="nc">Homepage</span> <span class="o">&lt;</span> <span class="no">Page</span>
  <span class="n">box</span> <span class="ss">:recipes</span> <span class="k">do</span>
    <span class="n">allow</span> <span class="ss">:Recipe</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This is a very minimal start. All we&#8217;ve done is to define a <tt class="docutils literal"><span class="pre">Homepage</span></tt> content
type that inherits from <tt class="docutils literal"><span class="pre">Page</span></tt> and has a box called <tt class="docutils literal"><span class="pre">recipes</span></tt> that allows us
to add instances of some <tt class="docutils literal"><span class="pre">Recipe</span></tt> content type.</p>
<p>This is the basis of a Spontaneous site. A set of <tt class="docutils literal"><span class="pre">Page</span></tt> types that have boxes
allowing us to add other <tt class="docutils literal"><span class="pre">Page</span></tt> types. This is how you build your site&#8217;s hierarchy,
starting at the site homepage.</p>
</div>
<div class="section" id="define-our-recipe-type">
<h3>Define our Recipe Type<a class="headerlink" href="#define-our-recipe-type" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Recipe</span></tt> type we referred to in our <tt class="docutils literal"><span class="pre">Homepage</span></tt> doesn&#8217;t exist so we need
to create that before we do anything else.</p>
<p>Create a file called <tt class="docutils literal"><span class="pre">recipe.rb</span></tt> in the <tt class="docutils literal"><span class="pre">schema</span></tt> directory:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="c1"># schema/recipe.rb</span>

<span class="k">class</span> <span class="nc">Recipe</span> <span class="o">&lt;</span> <span class="no">Page</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This is another <tt class="docutils literal"><span class="pre">Page</span></tt> type. At the moment it doesn&#8217;t do much but we can fill
in the details later.</p>
<p>What it lets us do though is start our server and see what we&#8217;ve created so far.</p>
</div>
<div class="section" id="run-the-development-server">
<h3>Run the Development Server<a class="headerlink" href="#run-the-development-server" title="Permalink to this headline">¶</a></h3>
<p>In order to see what we&#8217;ve done we need to run the CMS server application:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>spot server
</pre></div>
</div>
<p>This will start a server running on on your machine. The default development URL
is &lt;<a class="reference external" href="http://127.0.0.1:2011">http://127.0.0.1:2011</a>&gt;.</p>
<p>Open your browser and navigate to &lt;<a class="reference external" href="http://127.0.0.1:2011/&#64;spontaneous">http://127.0.0.1:2011/&#64;spontaneous</a>&gt;. You
should see something that looks like this:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-add-homepage-1.png"><img alt="Add homepage dialogue" src="../../figures/tutorial/screenshot-add-homepage-1.png" style="width: 50%;" /></a>
<p>In order to start building your site, you need to choose a content type that
will be used for the site homepage.</p>
<p>Select the &#8220;Homepage&#8221; entry in this dialogue:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-add-homepage-2.png"><img alt="Add homepage dialogue with content type selected" src="../../figures/tutorial/screenshot-add-homepage-2.png" style="width: 50%;" /></a>
<p>And then click &#8220;Create&#8221;.</p>
<p>Once that&#8217;s done you should see something like this:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-homepage-1.png"><img alt="Editing screen for our new site homepage" src="../../figures/tutorial/screenshot-edit-homepage-1.png" style="width: 50%;" /></a>
<p>What you&#8217;re seeing is the editing view of your new site homepage.</p>
<p>It has a &#8216;title&#8217; field and below that you can see the &#8216;recipes&#8217; box we defined
above.</p>
<p>Below the box name you can see one button labelled &#8220;Recipe&#8221;. This is what we use
to add things to our homepage. Because the only thing we&#8217;ve &#8216;allowed&#8217; to be
added to our recipes box are instances of the <tt class="docutils literal"><span class="pre">Recipe</span></tt> type, we only have this
one button.</p>
<p>Go ahead and click the &#8220;Recipe&#8221; button to add a <tt class="docutils literal"><span class="pre">Recipe</span></tt> instance to our box:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-homepage-2.png"><img alt="Adding a recipe page" src="../../figures/tutorial/screenshot-edit-homepage-2.png" style="width: 50%;" /></a>
<p>A new <tt class="docutils literal"><span class="pre">Recipe</span></tt> instance will appear with its title field open for editing.
Choose a title for your recipe, &#8220;Mashed Potatoes&#8221; in this case and hit save.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As well as using the &#8216;Save&#8217; button you could also just hit return,
type Ctrl-S or (on a Mac) Cmd-S &#8211; Spontaneous tries to make
everything as natural as possible.</p>
</div>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-homepage-3.png"><img alt="The new recipe page" src="../../figures/tutorial/screenshot-edit-homepage-3.png" style="width: 50%;" /></a>
<p>If you move the mouse just below the recipe we&#8217;ve just added you should see a
button appear identical to the one we just clicked. This button allows you to
add a recipe below the one we&#8217;ve just added. Boxes allow you to add items
anywhere using these inline buttons. Add another recipe and move the mouse
around between them, you&#8217;ll see the &#8216;Recipe&#8217; button appear in all the gaps.</p>
<p>Add as many recipes as you want. If you want to re-order them simply click and
hold the mouse on any entry and you should be able to drag it around to the
right position.</p>
<p>There, we&#8217;ve created our homepage and some recipes.</p>
<p>These recipes aren&#8217;t very interesting or useful though. To improve the situation
we need to expand the definition of the <tt class="docutils literal"><span class="pre">Recipe</span></tt> type.</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-homepage-4.png"><img alt="Multiple recipes in the recipe box" src="../../figures/tutorial/screenshot-edit-homepage-4.png" style="width: 50%;" /></a>
</div>
<div class="section" id="defining-editable-fields">
<h3>Defining Editable Fields<a class="headerlink" href="#defining-editable-fields" title="Permalink to this headline">¶</a></h3>
<p>So now we have a page type called &#8220;Recipe&#8221;. Now we need to define the editable
fields that each recipe needs (title, description and photo):</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="c1"># schema/recipe.rb</span>

<span class="k">class</span> <span class="nc">Recipe</span> <span class="o">&lt;</span> <span class="no">Page</span>
  <span class="n">field</span> <span class="ss">:description</span><span class="p">,</span> <span class="ss">:markdown</span>
  <span class="n">field</span> <span class="ss">:photo</span><span class="p">,</span>       <span class="ss">:image</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Fields are defined by adding a call to the <tt class="docutils literal"><span class="pre">field</span></tt> directive within the body
of the content type definition. The syntax is:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">field</span> <span class="p">:</span><span class="o">&lt;</span><span class="n">field_name</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">:</span><span class="o">&lt;</span><span class="n">field_type</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">[</span><span class="n">options</span><span class="o">.</span><span class="n">.</span><span class="o">.]</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">field_name</span></tt> is what you&#8217;ll use to refer to the value of the field within your
templates (see later) and also the name that will show up in the editing
interface.</p>
<p>If you hit &#8216;reload&#8217; in your browser Spontaneous will reload your schema code
and your site homepage should look something like this:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-homepage-5.png"><img alt="The new Recipe 'description' and 'photo' fields" src="../../figures/tutorial/screenshot-edit-homepage-5.png" style="width: 50%;" /></a>
<p>If you wanted to use a different name for the field in the user interface, you
would pass a value for <tt class="docutils literal"><span class="pre">title</span></tt> in the field options:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">field</span> <span class="ss">:description</span><span class="p">,</span> <span class="ss">:markdown</span><span class="p">,</span> <span class="ss">title</span><span class="p">:</span> <span class="s2">&quot;A short description&quot;</span>
</pre></div>
</div>
<p>This would change the name of the field in the user interface to &#8220;A short
description&#8221; but the internal name of the field would still be &#8220;description&#8221;.</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-homepage-6.png"><img alt="Renaming the 'description' field" src="../../figures/tutorial/screenshot-edit-homepage-6.png" style="width: 50%;" /></a>
<p>The second parameter to the field definition is the field type. The basic field
types are <tt class="docutils literal"><span class="pre">:string</span></tt>, <tt class="docutils literal"><span class="pre">:markdown</span></tt> and <tt class="docutils literal"><span class="pre">:image</span></tt> (though there are more see
<a class="reference internal" href="schema/fields.html#schema-field-types"><em>Field Types</em></a>).</p>
<p><strong>String</strong> fields are basic bits of text without any formatting. They are
useful for titles and any other bit of text that you want to appear as unstyled.
<tt class="docutils literal"><span class="pre">string</span></tt> is the default type, so if you want to create a string field you can
skip the type parameter:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="c1"># defaults to a ``string`` field</span>
<span class="n">field</span> <span class="ss">:name</span>
</pre></div>
</div>
<p><strong>Markdown</strong> fields allow for the entry of rich text using the <a class="reference external" href="http://daringfireball.net/projects/markdown/">Markdown
format</a>. These are useful for
body text and allow the content editors to style text as bold or italic, add
lists of items, headers and hyperlinks.</p>
<p>Markdown is currently the only supported &#8216;rich&#8217; text format. Because of this a
lot of effort has gone into making the Markdown editing experience as
comfortable &amp; efficient as possible.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Why not WSIWYG?</strong> If you&#8217;ve ever stuggled with a browser based <a class="reference external" href="http://en.wikipedia.org/wiki/WYSIWYG">WYSIWYG</a> you&#8217;ll know that things don&#8217;t always
go to plan. One of the design philosophies of Spontaneous is to allow content
editors to produce richly styled web-pages without having to struggle with
layout themselves and without being in danger of breaking the layout of the
pages. WYSIWYG editors actually hinder this. If and when browsers&#8217;
WYSIWYG implementations improve enough to be reliable and produce safe and
uncluttered HTML (which doesn&#8217;t break catastropically when pasting from
Microsoft Word...) then they <em>might</em> be supported.</p>
</div>
<p><strong>Image</strong> fields allow you to upload images using a drag-and-drop interface.
Spontaneous has very powerful image manipulation functions built into it which
allow you to define &amp; generate multiple different versions of each uploaded
image. For more information see <a class="reference internal" href="schema/fields.html#schema-field-types-image"><em>Image Fields</em></a></p>
<p>One useful shortcut when defining fields is that if no field type is given then
it will first try to find a field type based on the name of the field. So, for
example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">field</span> <span class="ss">:image</span>
<span class="c1"># is exactly the same as</span>
<span class="n">field</span> <span class="ss">:image</span><span class="p">,</span> <span class="ss">:image</span>
</pre></div>
</div>
<p>Each field type also has some useful aliases, for example image fields can be
referred to as <tt class="docutils literal"><span class="pre">photo</span></tt> fields:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">field</span> <span class="ss">:photo</span>
<span class="c1"># is the same as</span>
<span class="n">field</span> <span class="ss">:photo</span><span class="p">,</span> <span class="ss">:photo</span>
<span class="c1"># which is the same as</span>
<span class="n">field</span> <span class="ss">:photo</span><span class="p">,</span> <span class="ss">:image</span>
</pre></div>
</div>
<p>So our Recipe page definition could also have been written like this:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="c1"># schema/recipe.rb</span>

<span class="k">class</span> <span class="nc">Recipe</span> <span class="o">&lt;</span> <span class="no">Page</span>
  <span class="n">field</span> <span class="ss">:description</span><span class="p">,</span> <span class="ss">:markdown</span>
  <span class="n">field</span> <span class="ss">:photo</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="section" id="where-s-the-title">
<h4>Where&#8217;s the title?<a class="headerlink" href="#where-s-the-title" title="Permalink to this headline">¶</a></h4>
<p>You may have noticed that although we said that each Recipe page should also
have a recipe title, the above Recipe type definition has no title field
defined. How come?</p>
<p>The secret is in the <tt class="docutils literal"><span class="pre">Page</span></tt> content type that <tt class="docutils literal"><span class="pre">Recipe</span></tt> inherits from. This
<tt class="docutils literal"><span class="pre">Page</span></tt> type is defined in the <tt class="docutils literal"><span class="pre">schema/page.rb</span></tt> file that Spontaneous will
have generated for you. It will look something like this:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="kp">include</span> <span class="s1">&#39;content&#39;</span>

<span class="k">class</span> <span class="nc">Page</span> <span class="o">&lt;</span> <span class="ss">Content</span><span class="p">:</span><span class="ss">:Page</span>
  <span class="n">field</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:string</span><span class="p">,</span> <span class="ss">:default</span> <span class="o">=&gt;</span> <span class="s2">&quot;New Page&quot;</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Because our <tt class="docutils literal"><span class="pre">Recipe</span></tt> type is inheriting from this <tt class="docutils literal"><span class="pre">Page</span></tt> class we also
inherit its fields, in this case the title field.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a very powerful feature of Spontaneous&#8217;s type system. It allows you to
share field values (and more) between different content types. This way you can
have many different content types that are mostly the same but differ in a few
key areas. To read more about this inheritance model see
<a class="reference internal" href="schema/inheritance.html#schema-inheritance"><em>Schema Inheritance</em></a>.</p>
</div>
<p>Note that the <tt class="docutils literal"><span class="pre">title</span></tt> field has a <tt class="docutils literal"><span class="pre">default</span></tt> option specified in its
definition. This option allows you to give a default value for the field. In
this case we&#8217;re specifying that each new page should be called &#8220;New Page&#8221;.</p>
<p>Hmm, &#8220;New Page&#8221; isn&#8217;t very good for new recipes, so what we can do is
re-define the title field inside our Recipe class and change this default value
to something more appropriate:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="c1"># schema/recipe.rb</span>

<span class="k">class</span> <span class="nc">Recipe</span> <span class="o">&lt;</span> <span class="no">Page</span>
  <span class="c1"># we can drop the type for the `title` field</span>
  <span class="c1"># because the default is :string</span>
  <span class="n">field</span> <span class="ss">:title</span><span class="p">,</span>       <span class="ss">default</span><span class="p">:</span> <span class="s2">&quot;New Recipe&quot;</span>
  <span class="n">field</span> <span class="ss">:description</span><span class="p">,</span> <span class="ss">:markdown</span>
  <span class="n">field</span> <span class="ss">:photo</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Now, when we add a recipe we are presented with this:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-homepage-7.png"><img alt="The new default title value" src="../../figures/tutorial/screenshot-edit-homepage-7.png" style="width: 50%;" /></a>
<p>For more details on defining fields see <a class="reference internal" href="schema/fields.html#schema-fields"><em>Fields</em></a>.</p>
<p>Now we have the fields defined for our Recipe type, but what about the
ingredients and instructions? For that we need to learn how to use the next most
important element of the Spontaneous schema: boxes.</p>
</div>
</div>
<div class="section" id="creating-and-filling-content-boxes">
<h3>Creating and Filling Content Boxes<a class="headerlink" href="#creating-and-filling-content-boxes" title="Permalink to this headline">¶</a></h3>
<p>Spontaneous boxes allow you to fill a page with any amount of additional
content. They are &#8216;holes&#8217; in our pages that we configure to accept the addition
of certain other content types. Within the CMS user interface these boxes allow
you to add, remove and re-order their content with an intuitive drag-and-drop
interface.</p>
<p>The content of boxes can be either pages or &#8220;pieces&#8221;. We have described pages as
content that has its own URL and is directly accessible within the browser.
&#8220;Pieces&#8221; however only exist within pages and don&#8217;t have URLs. They do share the
same ability to have fields (and boxes) and are defined in almost exactly the
same way.</p>
<p>So, let&#8217;s create an &#8220;Ingredients&#8221; box that will hold our list of ingredients. We
do this within our <tt class="docutils literal"><span class="pre">schema/recipe.rb</span></tt> file as before:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="c1"># schema/recipe.rb</span>

<span class="k">class</span> <span class="nc">Recipe</span> <span class="o">&lt;</span> <span class="no">Page</span>
  <span class="c1"># we can drop the type for the `title` field</span>
  <span class="c1"># because the default is :string</span>
  <span class="n">field</span> <span class="ss">:title</span><span class="p">,</span>       <span class="ss">default</span><span class="p">:</span> <span class="s2">&quot;New Recipe&quot;</span>
  <span class="n">field</span> <span class="ss">:description</span><span class="p">,</span> <span class="ss">:markdown</span>
  <span class="n">field</span> <span class="ss">:photo</span>

  <span class="n">box</span> <span class="ss">:ingredients</span> <span class="k">do</span>
    <span class="n">allow</span> <span class="ss">:Ingredient</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This adds the ingredients box and specifies that we want to allow the user to
add items of type &#8220;Ingredient&#8221;. Now we need to define the &#8220;Ingredient&#8221; type.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We will do this in the same file as the Recipe type for convenience but it&#8217;s
usually a good idea to stick to a one-type-per-file rule.</p>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span class="c1"># schema/recipe.rb</span>

<span class="k">class</span> <span class="nc">Ingredient</span> <span class="o">&lt;</span> <span class="no">Piece</span>
  <span class="n">field</span> <span class="ss">:name</span>
  <span class="n">field</span> <span class="ss">:quantity</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Our &#8220;Ingredient&#8221; type is pretty simple, just a name and a quantity.</p>
<p>Now we need to create the recipe itself by allowing the user to enter a set of
instructions:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="c1"># schema/recipe.rb</span>

<span class="k">class</span> <span class="nc">Recipe</span> <span class="o">&lt;</span> <span class="no">Page</span>
  <span class="c1"># we can drop the type for the `title` field</span>
  <span class="c1"># because the default is :string</span>
  <span class="n">field</span> <span class="ss">:title</span><span class="p">,</span>       <span class="ss">default</span><span class="p">:</span> <span class="s2">&quot;New Recipe&quot;</span>
  <span class="n">field</span> <span class="ss">:description</span><span class="p">,</span> <span class="ss">:markdown</span>
  <span class="n">field</span> <span class="ss">:photo</span>

  <span class="n">box</span> <span class="ss">:ingredients</span> <span class="k">do</span>
    <span class="n">allow</span> <span class="ss">:Ingredient</span>
  <span class="k">end</span>

  <span class="n">box</span> <span class="ss">:instructions</span> <span class="k">do</span>
    <span class="n">allow</span> <span class="ss">:Step</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Ingredient</span> <span class="o">&lt;</span> <span class="no">Piece</span>
  <span class="n">field</span> <span class="ss">:name</span>
  <span class="n">field</span> <span class="ss">:quantity</span>
<span class="k">end</span>

<span class="c1"># Step entries are added to the &quot;instructions&quot; box within our Recipe</span>
<span class="k">class</span> <span class="nc">Step</span> <span class="o">&lt;</span> <span class="no">Piece</span>
  <span class="n">field</span> <span class="ss">:instructions</span><span class="p">,</span> <span class="ss">:markdown</span>
  <span class="n">field</span> <span class="ss">:photo</span><span class="p">,</span> <span class="ss">comment</span><span class="p">:</span> <span class="s2">&quot;Optional&quot;</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Our Recipe type now has an &#8220;instructions&#8221; box that allows the user to add any
number of &#8220;Step&#8221; pieces. Each Step has a set of instructions and a photo. The
photo field has a <tt class="docutils literal"><span class="pre">comment</span></tt> set &#8211; this will appear in the user interface in
order to offer some guidance to editors. In this case we&#8217;re telling them that
they don&#8217;t have to have a photo for each step.</p>
<p>For now that&#8217;s enough to power our recipe site.</p>
</div>
</div>
<div class="section" id="use-the-cms-user-interface-to-build-your-site">
<h2>Use the CMS User Interface to Build Your Site<a class="headerlink" href="#use-the-cms-user-interface-to-build-your-site" title="Permalink to this headline">¶</a></h2>
<p>Now that we have a simple schema, we can go ahead and write a recipe.</p>
<div class="section" id="navigating-within-the-cms">
<h3>Navigating within the CMS<a class="headerlink" href="#navigating-within-the-cms" title="Permalink to this headline">¶</a></h3>
<p>To do that we first need to navigate to one of the recipe pages within the CMS.</p>
<p>There are two ways to do this:</p>
<p>By clicking on the recipe title in the &#8216;Recipes&#8217; box:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-navigation-1.png"><img alt="Navigating to a Recipe page using its title" src="../../figures/tutorial/screenshot-edit-navigation-1.png" style="width: 50%;" /></a>
<p>or choosing the page from the pulldown in the navigation bar:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-navigation-2.png"><img alt="Navigating to a Recipe page using the site browser" src="../../figures/tutorial/screenshot-edit-navigation-2.png" style="width: 50%;" /></a>
<p>Once there you will see the editor for our <tt class="docutils literal"><span class="pre">Recipe</span></tt> page with the
&#8220;Ingredients&#8221; and &#8220;Instructions&#8221; boxes we defined in the schema:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-recipe-1.png"><img alt="Editing a Recipe page" src="../../figures/tutorial/screenshot-edit-recipe-1.png" style="width: 50%;" /></a>
</div>
<div class="section" id="page-urls">
<h3>Page URLs<a class="headerlink" href="#page-urls" title="Permalink to this headline">¶</a></h3>
<p>You can also see the page&#8217;s URL path, in this case <tt class="docutils literal"><span class="pre">/dauphinoise-potatoes</span></tt>. This
has been automatically taken from the page&#8217;s title.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Pages are added with a default &#8216;slug&#8217; that is auto generated in order to avoid
collisions. The default format is <tt class="docutils literal"><span class="pre">&quot;page-#{Time.now.strftime('%Y%m%d-%H%M%S')}&quot;</span></tt>
which will generate for example <tt class="docutils literal"><span class="pre">page-20140313-141012</span></tt>. Once you set the title
field of the page this default slug will be overridden by one generated from the
given title.</p>
</div>
<p>These paths define the public URL of the page. So if our new recipes site is
hosted at &#8216;spontaneous-recipes.com&#8217; the full URL of our new Dauphinoise Potatoes
recipe will be <tt class="docutils literal"><span class="pre">http://spontaneous-recipes.com/dauphinoise-potatoes</span></tt>.</p>
<p>If you don&#8217;t like a page&#8217;s URL then to change it simply click on it and you&#8217;ll
be presented with a text input:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-recipe-path-1.png"><img alt="Changing a page's URL" src="../../figures/tutorial/screenshot-edit-recipe-path-1.png" style="width: 50%;" /></a>
<p>This is a special editor that will automatically convert your typing into URL
safe characters: spaces and other punctuation will be converted to dashes and
all text will be made lower case.</p>
<p>The editor will also warn you if your new path is invalid or a duplicate (having
two pages with the same path would stop one of them from being visible).</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-recipe-path-2.png"><img alt="Warning for a duplicate URL" src="../../figures/tutorial/screenshot-edit-recipe-path-2.png" style="width: 50%;" /></a>
</div>
<div class="section" id="building-the-page">
<h3>Building the Page<a class="headerlink" href="#building-the-page" title="Permalink to this headline">¶</a></h3>
<p>First fill in the page&#8217;s description and choose an image. To to this, click on
the page fields to reveal the editing interface and fill in the text. To set the
photo you can either:</p>
<ol class="arabic simple">
<li>Click on the grey photo placeholder which will pop up a file-picker dialogue
or</li>
<li>Drag a file from your desktop of file browser and drop it onto the grey photo
placeholder.</li>
</ol>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-recipe-2.png"><img alt="Adding the page's description &amp; photo" src="../../figures/tutorial/screenshot-edit-recipe-2.png" style="width: 50%;" /></a>
<p>Once you&#8217;re happy with the page&#8217;s description &amp; image save the fields (using the
save button, Ctrl-S or Cmd-S).</p>
<p>Now we want to add our ingredients by going to the &#8220;Ingredients&#8221; box and
clicking the add &#8220;Ingredient&#8221; button. To add the ingredients in order, use the
add ingredient button that appears below the last ingredient in the list.</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-recipe-ingredients-1.png"><img alt="Adding an ingredient at the bottom of the list" src="../../figures/tutorial/screenshot-edit-recipe-ingredients-1.png" style="width: 50%;" /></a>
<p>As you add each ingredient fill in the &#8220;Name&#8221; &amp; &#8220;Quantity&#8221; fields appropriately.</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-recipe-ingredients-2.png"><img alt="The final list of ingredients" src="../../figures/tutorial/screenshot-edit-recipe-ingredients-2.png" style="width: 50%;" /></a>
<p>Do the same for the Instructions box:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-edit-recipe-instructions-1.png"><img alt="Our list of instructions" src="../../figures/tutorial/screenshot-edit-recipe-instructions-1.png" style="width: 50%;" /></a>
<p>That&#8217;s it. Our recipe content is complete.</p>
</div>
</div>
<div class="section" id="create-html-templates">
<h2>Create HTML Templates<a class="headerlink" href="#create-html-templates" title="Permalink to this headline">¶</a></h2>
<p>Now that we&#8217;ve finished editing let&#8217;s see how our site will look like to
visitors:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-template-1.png"><img alt="A first preview of our site" src="../../figures/tutorial/screenshot-template-1.png" style="width: 50%;" /></a>
<p>Oh. Not very good. What we&#8217;re seeing is Spontaneous&#8217;s default page template
simply dumping the values of your fields.</p>
<div class="section" id="layouts">
<h3>Layouts<a class="headerlink" href="#layouts" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;ve ever used Ruby on Rails you&#8217;ll be familiar with the concept of
&#8216;layouts&#8217;. They are the top-level frame within which the rest of a page&#8217;s
content is &#8220;hung&#8221;, so to speak. Spontaneous uses the same concept (and a similar
file layout).</p>
<p>The file <tt class="docutils literal"><span class="pre">templates/layouts/standard.html.cut</span></tt> is the default layout for every
page. It has some HTML5 boiler plate at the top and then this:</p>
<div class="highlight-html"><div class="highlight"><pre>%{ block :content }
  <span class="nt">&lt;h2&gt;</span>Welcome to example.com<span class="nt">&lt;/h2&gt;</span>
  ${ fields }
  ${ boxes }
%{ endblock :content }
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">block</span></tt> and <tt class="docutils literal"><span class="pre">endblock</span></tt> directives are part of Spontaneous&#8217;s template
inheritance system (which is modelled after Django&#8217;s).</p>
<p>If we want to create a layout specific to our recipes then all we need to do is
inherit from this standard layout and overwrite the contents of the <tt class="docutils literal"><span class="pre">content</span></tt>
block you see defined above.</p>
<p>To do this, add the file <tt class="docutils literal"><span class="pre">templates/layouts/recipe.html.cut</span></tt> with the
following contents:</p>
<div class="highlight-html"><div class="highlight"><pre>%{ extends &quot;layouts/standard&quot; }
%{ block :content }
  <span class="nt">&lt;h3&gt;</span>${ title }<span class="nt">&lt;/h3&gt;</span>
  ${ description }
  ${ photo }
  ${ ingredients }
  ${ instructions }
%{ endblock }
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">extends</span></tt> directive right at the start specifies that we are extending the
standard layout and the <tt class="docutils literal"><span class="pre">block</span></tt> ... <tt class="docutils literal"><span class="pre">endblock</span></tt> section overwrites the
contents of the standard layout file with our modified code. The rest of the
layout will be the same as the standard layout, including the <tt class="docutils literal"><span class="pre">&lt;head&gt;</span></tt> block.</p>
<p>The <tt class="docutils literal"><span class="pre">${</span> <span class="pre">}</span></tt> blocks are Spontaneous tags. <tt class="docutils literal"><span class="pre">title</span></tt>, <tt class="docutils literal"><span class="pre">description</span></tt> and
<tt class="docutils literal"><span class="pre">photo</span></tt> reference the page fields and will insert their HTML values into the
page. In the case of the <tt class="docutils literal"><span class="pre">photo</span></tt> field this will insert a full <tt class="docutils literal"><span class="pre">&lt;img/&gt;</span></tt> tag
with correct <tt class="docutils literal"><span class="pre">width</span></tt> and <tt class="docutils literal"><span class="pre">height</span></tt> attributes.</p>
<p>The <tt class="docutils literal"><span class="pre">${</span> <span class="pre">ingredients</span> <span class="pre">}</span></tt> and <tt class="docutils literal"><span class="pre">${</span> <span class="pre">instructions</span> <span class="pre">}</span></tt> tags will insert the boxes,
once we have defined their templates.</p>
<p>The resulting page looks pretty much the same as before but we are well on our
way to having a working recipe page.</p>
</div>
<div class="section" id="the-ingredients-instructions">
<h3>The Ingredients &amp; Instructions<a class="headerlink" href="#the-ingredients-instructions" title="Permalink to this headline">¶</a></h3>
<p>Let&#8217;s add the ingredient list. First let&#8217;s create a template for the
&#8220;ingredients&#8221; box. Make a directory <tt class="docutils literal"><span class="pre">templates/recipe</span></tt> and add the file
<tt class="docutils literal"><span class="pre">templates/recipe/ingredients.html.cut</span></tt> with the following markup:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;ingredients&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h4&gt;</span>Ingredients<span class="nt">&lt;/h4&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    ${ contents }
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>If we reload our site preview it should look like this:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-template-2.png"><img alt="Our ingredient list coming together" src="../../figures/tutorial/screenshot-template-2.png" style="width: 50%;" /></a>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can preview your new page without having the CMS navigation bar
included by going directly to the URL of the page, in this case we can
type &lt;<a class="reference external" href="http://127.0.0.1:2011/dauphinoise-potatoes">http://127.0.0.1:2011/dauphinoise-potatoes</a>&gt; and preview our site
exactly as it would appear to visitors.</p>
</div>
<p>All we need to do now is to create a template for the <tt class="docutils literal"><span class="pre">Ingredient</span></tt> type and
our ingredient list is complete.</p>
<p>Create the file <tt class="docutils literal"><span class="pre">templates/ingredient.html.cut</span></tt> with the following markup:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;li&gt;</span>
  <span class="nt">&lt;strong&gt;</span>${ name }<span class="nt">&lt;/strong&gt;</span> (${ quantity })
<span class="nt">&lt;/li&gt;</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-template-3.png"><img alt="The complete ingredients list" src="../../figures/tutorial/screenshot-template-3.png" style="width: 50%;" /></a>
<p>Now onto the instructions.</p>
<p>Create the file <tt class="docutils literal"><span class="pre">templates/recipe/instructions.html.cut</span></tt> with the following
markup:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;instructions&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h4&gt;</span>Instructions<span class="nt">&lt;/h4&gt;</span>
  <span class="nt">&lt;ol&gt;</span>
    %{ contents.each do | step | }
      ${ step }
    %{ end }
  <span class="nt">&lt;/ol&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>This template uses an alternate way of rendering the contents of a box. The
<tt class="docutils literal"><span class="pre">ingredients.html.cut</span></tt> template used the simple directive <tt class="docutils literal"><span class="pre">${</span> <span class="pre">contents</span> <span class="pre">}</span></tt>
but here we&#8217;re explicitly iterating over the <tt class="docutils literal"><span class="pre">contents</span></tt> collection and then
rendering each instruction in turn.</p>
<p>The final step is to create the template for the instructions themselves. Our
instructions are composed of a series of <tt class="docutils literal"><span class="pre">Step</span></tt> types so in
<tt class="docutils literal"><span class="pre">templates/step.html.cut</span></tt> add the following markup:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;li&gt;</span>${ instructions }<span class="nt">&lt;/li&gt;</span>
</pre></div>
</div>
<p>Now we have our recipe in all its glory:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-template-4.png"><img alt="Our final page with ingredients and instructions" src="../../figures/tutorial/screenshot-template-4.png" style="width: 50%;" /></a>
<p>Now we&#8217;re ready to make our site live.</p>
</div>
</div>
<div class="section" id="publish-your-site">
<h2>Publish Your Site<a class="headerlink" href="#publish-your-site" title="Permalink to this headline">¶</a></h2>
<p>Clicking on the &#8220;Publish&#8221; button at the top right will bring up a list of pages
that have been modified and need publishing. Because we have never published our
site this list shows every page we have created:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-publishing-1.png"><img alt="The list of pages to publish" src="../../figures/tutorial/screenshot-publishing-1.png" style="width: 50%;" /></a>
<p>Click on the &#8220;Publish&#8221; button at the bottom right and your site will be
published and rendered.</p>
<p>If you want to see your published site visit <a class="reference external" href="http://127.0.0.1:2012">http://127.0.0.1:2012</a> &#8212; there
shouldn&#8217;t be anything surprising here, as it will look exactly the same as the
preview version we&#8217;ve been looking at.</p>
</div>
<div class="section" id="making-changes">
<h2>Making Changes<a class="headerlink" href="#making-changes" title="Permalink to this headline">¶</a></h2>
<p>We have already seen how to add items to boxes and edit their fields. There are
a couple of other things we can do though.</p>
<div class="section" id="deleting-things">
<h3>Deleting Things<a class="headerlink" href="#deleting-things" title="Permalink to this headline">¶</a></h3>
<p>If you want to delete something from a box then click on the delete icon that
you&#8217;ll see at the right of every entry in a box.</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-deleting-1.png"><img alt="Deleting an item" src="../../figures/tutorial/screenshot-deleting-1.png" style="width: 50%;" /></a>
</div>
<div class="section" id="hiding-things">
<h3>Hiding Things<a class="headerlink" href="#hiding-things" title="Permalink to this headline">¶</a></h3>
<p>Occasionally you might have something in the site that you want to temporarily
hide. Perhaps the most of a page is ready but one entry is only half done and
you need to publish what you have. Or perhaps a page that you&#8217;ve made live needs
to be removed from the site temporarily.</p>
<p>If this is the case then simply click on the &#8216;hide&#8217; icon below the delete icon. It
will hide the entry from the preview &amp; published site.</p>
<p>Let&#8217;s pretend that our new dauphinoise potatoes recipe needs to be put on hold
for a few weeks while we try out some new recipes.</p>
<p>First we need to alter our homepage so that we can navigate our recipes.</p>
<p>This is simply a matter of creating a template that the <tt class="docutils literal"><span class="pre">Recipe</span></tt> type will use
to display itself inline within a page. When accessed directly recipes use the
<tt class="docutils literal"><span class="pre">templates/layouts/recipe.html.cut</span></tt> template but when they are being shown
&#8216;inline&#8217; they will use the <tt class="docutils literal"><span class="pre">templates/recipe.html.cut</span></tt> template:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;recipe&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h3&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;${ path }&quot;</span><span class="nt">&gt;</span>${ title }<span class="nt">&lt;/a&gt;&lt;/h3&gt;</span>
  <span class="nt">&lt;p&gt;</span>${ photo(width: 200) }<span class="nt">&lt;/p&gt;</span>
  ${ description }
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>Now our homepage preview will look something like this:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-hiding-1.png"><img alt="Our new homepage with recipes" src="../../figures/tutorial/screenshot-hiding-1.png" style="width: 50%;" /></a>
<p>Switch back to edit mode and click the hide icon for the dauphinoise potatoes
recipe:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-hiding-2.png"><img alt="Hiding a recipe" src="../../figures/tutorial/screenshot-hiding-2.png" style="width: 50%;" /></a>
<p>The recipe appears as slightly faded, which means that it&#8217;s hidden. Now when we
change to the preview, we see this:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-hiding-3.png"><img alt="The hidden recipe doesn't appear in the preview" src="../../figures/tutorial/screenshot-hiding-3.png" style="width: 50%;" /></a>
<p>To make these changes live we click &#8220;Publish&#8221; again:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-hiding-4.png"><img alt="Our hidden page shows up in the list of pages to publish" src="../../figures/tutorial/screenshot-hiding-4.png" style="width: 50%;" /></a>
<p>We select our recipe for publishing by clicking on the arrow which moves it
across from the &#8220;Modified&#8221; list to the &#8220;Publish&#8221; list:</p>
<a class="reference internal image-reference" href="../../figures/tutorial/screenshot-hiding-5.png"><img alt="Selecting our page for publishing" src="../../figures/tutorial/screenshot-hiding-5.png" style="width: 50%;" /></a>
<p>And then click &#8220;Publish&#8221;. Our live site <a class="reference external" href="http://127.0.0.1:2012/">http://127.0.0.1:2012/</a> will now look
like our preview site with the dauphinoise potatoes recipe hidden.</p>
</div>
</div>
<div class="section" id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h2>
<p>This has been a whirlwind tour of making websites with Spontaneous. Lots of
detail has been skipped over in order to keep things moving along.</p>
<p>Having said that, the great thing about Spontaneous for users is that the
instructions above describing adding, editing, deleting and hiding content
using the CMS are basically all you need to know in order to use it.</p>
<p>In the next part <a class="reference internal" href="tutorial2.html#tutorial2"><em>Spontaneous CMS Tutorial Part 2 &#8211; Images Etc</em></a> we will go into more depth and show you how to
manage images, create aliases and work with CSS &amp; Javascript.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Spontaneous CMS Tutorial Part 1 &#8211; Creating a Basic Site</a><ul>
<li><a class="reference internal" href="#generate-a-website-skeleton">Generate a Website Skeleton</a></li>
<li><a class="reference internal" href="#create-your-schema">Create Your Schema</a><ul>
<li><a class="reference internal" href="#add-a-site-homepage">Add a Site Homepage</a></li>
<li><a class="reference internal" href="#define-our-recipe-type">Define our Recipe Type</a></li>
<li><a class="reference internal" href="#run-the-development-server">Run the Development Server</a></li>
<li><a class="reference internal" href="#defining-editable-fields">Defining Editable Fields</a><ul>
<li><a class="reference internal" href="#where-s-the-title">Where&#8217;s the title?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-and-filling-content-boxes">Creating and Filling Content Boxes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-the-cms-user-interface-to-build-your-site">Use the CMS User Interface to Build Your Site</a><ul>
<li><a class="reference internal" href="#navigating-within-the-cms">Navigating within the CMS</a></li>
<li><a class="reference internal" href="#page-urls">Page URLs</a></li>
<li><a class="reference internal" href="#building-the-page">Building the Page</a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-html-templates">Create HTML Templates</a><ul>
<li><a class="reference internal" href="#layouts">Layouts</a></li>
<li><a class="reference internal" href="#the-ingredients-instructions">The Ingredients &amp; Instructions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#publish-your-site">Publish Your Site</a></li>
<li><a class="reference internal" href="#making-changes">Making Changes</a><ul>
<li><a class="reference internal" href="#deleting-things">Deleting Things</a></li>
<li><a class="reference internal" href="#hiding-things">Hiding Things</a></li>
</ul>
</li>
<li><a class="reference internal" href="#next-steps">Next Steps</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installation Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="getting-started.html"
                        title="next chapter">Getting Started</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tutorial.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="getting-started.html" title="Getting Started"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation Guide"
             >previous</a> |</li>
        <li><a href="index.html">Spontaneous CMS 0.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Garry Hill.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>